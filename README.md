# Schedule Attendance Service
Сервис, отвечающий за расписание и отметку посещаемости.

## Описание

Этот репозиторий был создан в рамках хакатона Лига Приключений Санкт-Петербург 2023, на котором мы заняли второе место.
Набор технологий очень стандартный, **Java 17** и **Spring Boot 3** вместе с **gRpc**, **Lombok**, **Model mapper**, **Swagger**.

## Вопросы

Самый спорный сервис, который мне совсем не нравится...

**1.** Начнем с самого безобидного, костыля в методе getSchedule в Controller

**2.** Как правильно нужно было избавиться от циклических зависимостей между AcademicSubjectsService, AttendanceService и LessonsService? Я оборвал ее перенеся в AcademicSubjectsService два простых метода из AttendanceService, но вместе с методами пришлось добавить AttendanceRepository

**3.** Нужно ли проверять по gRpc существует ли такая группа методе create класса LessonsService? Там же вопрос про Query

**4.** По хорошему я должен в методе findAllByAcademicSubjectIdAndDateAndStartTimeAndEndTime класса AttendanceService (и не только) проверить, принадлежит ли предмет учителю, и выбрасывать ошибку если нет. А то эта обязанность перекладывается на бд, а он просто возвращает пустой page, если предмет не его. Ведь так? И вообще, этот метод мне не нравится, все выглядит костыльным и не гибким. Информация о посещении студентов будет создана только если преподаватель нажмет на кнопку получения посещаемости этой конкретной пары. Да уж, можно было конечно завязать это на @Scheduled и на информацию о расписание, но расписание само по себе такое шаткое и будто ни на что не валяющее, что страшно. Короче я точно знаю, то что там написано - полная лажа

**5.** Если я использую spel в методе delete класса LessonsService, для того чтобы получить группу (метод для получения группы в случае чего выкинет ошибку, если такой группы не окажется), нужно ли проверять внутри метода наличие группы? Такой функционал мне понадобился, когда я хотел ввести кеширование, правда все равно его не использовал, так как если будет несколько серверов, то я не смогу проверить актуальность кеша. Нужно использовать Redis

**6.** Изначально этот сервис должен был быть разделен на два, Schedule и Attendance. Но из-за нехватки времени и достаточно сильной связи между ними, я решил их объединить. Как стоило поступить, если бы это была реальная разработка? Постоянное обращение к одному сервису за информацией это нормально?
